get_filename_component(BREEZE_DEPLOY_ROOT "${CMAKE_CURRENT_LIST_FILE}" DIRECTORY)

set(BREEZE_INCLUDE_DIRS "${BREEZE_DEPLOY_ROOT}/include")
set(BREEZE_DEPLOY_DEPEND_LIBRARIES "")
set(BREEZE_DEPLOY_LIBRARIES "${BREEZE_DEPLOY_ROOT}/lib/libbreeze_deploy.so")
list(APPEND BREEZE_DEPLOY_DEPEND_LIBRARIES ${BREEZE_DEPLOY_LIBRARIES})
set(BREEZE_DEPLOY_THIRD_PARTY_ROOT "${BREEZE_DEPLOY_ROOT}/third_party")

set(VCPKG_ROOT ${BREEZE_DEPLOY_THIRD_PARTY_ROOT}/vcpkg)
set(VCPKG_INCLUDE_DIRS ${VCPKG_ROOT}/include)
set(VCPKG_SHARE_ROOT ${VCPKG_ROOT}/share)
set(VCPKG_TOOLS_ROOT ${VCPKG_ROOT}/tools)

set(Protobuf_PROTOC_EXECUTABLE "${VCPKG_TOOLS_ROOT}/protobuf/protoc")

find_package(OpenCV REQUIRED)
set(OPENCV_INCLUDE_DIRS ${VCPKG_INCLUDE_DIRS})
set(OPENCV_LIBRARIES ${OpenCV_LIBS})
list(APPEND BREEZE_DEPLOY_LIBRARIES ${OPENCV_LIBRARIES})
list(APPEND BREEZE_INCLUDE_DIRS ${OPENCV_INCLUDE_DIRS})

set(ENABLE_ONNX_RUNTIME @ENABLE_ONNX_RUNTIME@)
if (ENABLE_ONNX_RUNTIME)
    add_definitions(-DENABLE_ONNX_RUNTIME)
    list(APPEND BREEZE_DEPLOY_LIBRARIES ${BREEZE_DEPLOY_THIRD_PARTY_ROOT}/onnxruntime/lib/libonnxruntime.so.1.16.3)
    list(APPEND BREEZE_DEPLOY_DEPEND_LIBRARIES ${BREEZE_DEPLOY_THIRD_PARTY_ROOT}/onnxruntime/lib/libonnxruntime.so.1.16.3)
    list(APPEND BREEZE_INCLUDE_DIRS ${BREEZE_DEPLOY_THIRD_PARTY_ROOT}/onnxruntime/include)
endif ()

set(ENABLE_RKNN_RUNTIME @ENABLE_RKNN_RUNTIME@)
if (ENABLE_RKNN_RUNTIME)
    add_definitions(-DENABLE_RKNN_RUNTIME)
    list(APPEND BREEZE_DEPLOY_LIBRARIES ${BREEZE_DEPLOY_THIRD_PARTY_ROOT}/rknpu2_runtime/lib/librknnrt.so)
    list(APPEND BREEZE_DEPLOY_DEPEND_LIBRARIES ${BREEZE_DEPLOY_THIRD_PARTY_ROOT}/rknpu2_runtime/lib/librknnrt.so)
    list(APPEND BREEZE_INCLUDE_DIRS ${BREEZE_DEPLOY_THIRD_PARTY_ROOT}/rknpu2_runtime/include)
endif ()
